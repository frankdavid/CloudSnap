// Generated by CoffeeScript 1.7.1
(function() {
  this.main = angular.module('main', []);

  this.main.controller('MainCtrl', [
    '$scope', function($scope) {
      $scope.focus = function() {
        if ($scope.url === '') {
          return $scope.url = 'http://';
        }
      };
      $scope.blur = function() {
        if ($scope.url === 'http://') {
          return $scope.url = '';
        }
      };
      $scope.onSubmit = function() {
        return window.location.href = "/snap/" + $scope.url;
      };
      $("#screenshot").on('load', function() {
        return $scope.$apply(function() {
          $scope.screenshotLoaded = true;
          return $scope.screenshotError = false;
        });
      });
      return $("#screenshot").on('error', function() {
        $scope.$apply(function() {
          return $scope.screenshotError = true;
        });
        return window.setTimeout(function() {
          return $("#screenshot").attr('src', $("#screenshot").attr('src') + "?" + Math.random() * 1000);
        }, 1500);
      });
    }
  ]);

}).call(this);

//# sourceMappingURL=main.map
